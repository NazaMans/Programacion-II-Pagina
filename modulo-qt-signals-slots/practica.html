<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <title>Ejercicios de Programación: Qt y C++ - QMessageBox y Signals/Slots</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <h1>Ejercicios de Programación: Qt y C++</h1>
        <nav>
            <a href="../index.html">Volver al Índice Principal</a>
        </nav>
    </header>

    <main>
        <section class="timer-container">
            <h2>Control de Tiempo para Actividades</h2>
            <p>Usa el botón de abajo para iniciar y detener un temporizador que te ayude a medir el tiempo que dedicas a cada ejercicio.</p>
            <button id="iniciarTemporizador">Iniciar Temporizador</button>
            <span id="displayTemporizador">00:00:00</span>
        </section>

        <section>
            <h2>Simulación: QMessageBox y Signals/Slots</h2>
            <p>Estas actividades se centran en el uso de QMessageBox y en la conexión de señales y slots en Qt.</p>
        </section>

        <section>
            <h3>Ejercicio 1: Tipos de QMessageBox</h3>
            <ul>
                <li><strong>Consigna:</strong> Generar todos los tipos de QMessageBox y capturar la devolución en un valor <code>int</code> según el botón presionado.</li>
                <li><strong>Elementos de Qt a utilizar:</strong> <code>QMessageBox</code>.</li>
                <li><strong>Puntos que debe cumplir:</strong></li>
                <li>Implementar mensajes de tipo: <em>Critical</em>, <em>Information</em>, <em>Warning</em>, <em>Question</em>.</li>
                <li>Verificar el valor <code>int</code> que devuelve cada botón (Yes, No, Ok, Cancel, etc.).</li>
            </ul>
        </section>

        <section>
            <h3>Ejercicio 2: Botón que abre QMessageBox</h3>
            <ul>
                <li><strong>Consigna:</strong> Usar señales y slots para abrir diferentes QMessageBox desde un botón.</li>
                <li><strong>Elementos de Qt a utilizar:</strong> <code>QPushButton, QMessageBox</code>.</li>
                <li><strong>Puntos que debe cumplir:</strong></li>
                <li>Conectar un botón a un slot mediante <code>QObject::connect</code>.</li>
                <li>El botón debe mostrar uno de los tipos de <code>QMessageBox</code> (Critical, Información, Advertencia o Pregunta).</li>
                <li>Probar diferentes mensajes según el tipo de QMessageBox.</li>
            </ul>
        </section>

        <section>
            <h3>Ejercicio 3: Cambiar Colores de Fondo</h3>
            <ul>
                <li><strong>Consigna:</strong> Usando signals y slots, crear tres botones en un layout horizontal que cambien el color de fondo de la ventana principal.</li>
                <li><strong>Elementos de Qt a utilizar:</strong> <code>QPushButton, QHBoxLayout, QWidget</code>.</li>
                <li><strong>Puntos que debe cumplir:</strong></li>
                <li>Disponer tres botones en un layout horizontal.</li>
                <li>Cada botón debe cambiar el fondo del <code>QWidget</code> a un color distinto (por ejemplo: rojo, verde, azul).</li>
                <li>El cambio debe hacerse usando <code>setStyleSheet</code>.</li>
            </ul>
        </section>

        <section>
            <h3>Ejercicio 4: Botones y QLabel</h3>
            <ul>
                <li><strong>Consigna:</strong> Usar signals y slots para que tres botones interactúen con un QLabel.</li>
                <li><strong>Elementos de Qt a utilizar:</strong> <code>QPushButton, QLabel, QVBoxLayout</code>.</li>
                <li><strong>Puntos que debe cumplir:</strong></li>
                <li>Colocar tres botones en el formulario.</li>
                <li>El primer botón debe mostrar un mensaje en el QLabel.</li>
                <li>El segundo botón debe limpiar el texto del QLabel.</li>
                <li>El tercer botón debe mostrar otro mensaje distinto en el QLabel.</li>
            </ul>
        </section>
    </main>

    <section class="navegacion-modulo">
        <a href="../index.html" class="boton-practica" style="background-color: #007bff;">Volver al Índice Principal</a>
    </section>

    <footer>
        <p>Fin de los Ejercicios sobre QMessageBox y Signals/Slots</p>
    </footer>

    <script>
        let startTime;
        let timerInterval;
        let isRunning = false;
        const startButton = document.getElementById('iniciarTemporizador');
        const display = document.getElementById('displayTemporizador');

        function formatTime(totalSeconds) {
            const h = String(Math.floor(totalSeconds / 3600)).padStart(2, '0');
            const m = String(Math.floor((totalSeconds % 3600) / 60)).padStart(2, '0');
            const s = String(totalSeconds % 60).padStart(2, '0');
            return `${h}:${m}:${s}`;
        }

        function updateTimer() {
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            display.textContent = formatTime(elapsed);
        }

        startButton.addEventListener('click', () => {
            if (!isRunning) {
                startTime = Date.now();
                timerInterval = setInterval(updateTimer, 1000);
                startButton.textContent = 'Detener Temporizador';
                startButton.style.backgroundColor = 'var(--secondary-accent-darker)';
                isRunning = true;
            } else {
                clearInterval(timerInterval);
                startButton.textContent = 'Iniciar Temporizador';
                startButton.style.backgroundColor = 'var(--secondary-accent)';
                isRunning = false;
            }
        });
    </script>
</body>
</html>
