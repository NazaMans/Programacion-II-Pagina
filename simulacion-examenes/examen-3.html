<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ejercicios de Programación: Qt y C++</title>
    <link rel="stylesheet" href="../css/style.css" />
  </head>
  <body>
    <header>
      <h1>Ejercicios de Programación: Qt y C++</h1>
      <nav>
        <a href="../index.html">Volver al Índice Principal</a>
      </nav>
    </header>

    <main>
      <section class="timer-container">
        <h2>Control de Tiempo para Actividades</h2>
        <p>
          Usa el botón de abajo para iniciar y detener un temporizador que te
          ayude a medir el tiempo que dedicas a cada ejercicio.
        </p>
        <button id="iniciarTemporizador">Iniciar Temporizador</button>
        <span id="displayTemporizador">00:00:00</span>
      </section>

      <section>
        <h3>Ejercicio 1: Gestor de Libros</h3>
        <ul>
          <li>
            <strong>Consigna:</strong> Registrar libros en una tabla con
            validación de campos.
          </li>
          <li>
            <strong>Elementos de Qt a utilizar:</strong>
            <code>QLineEdit, QPushButton, QTableWidget</code>.
          </li>
        </ul>
      </section>

      <section>
        <h3>Ejercicio 2: Contador Numérico</h3>
        <ul>
          <li>
            <strong>Consigna:</strong> Contador entre 0 y 20 con botones
            deshabilitables.
          </li>
          <li>
            <strong>Elementos de Qt a utilizar:</strong>
            <code>QPushButton, QLabel</code>.
          </li>
        </ul>
      </section>
    </main>

    <section class="navegacion-modulo">
      <a
        href="../index.html"
        class="boton-practica"
        style="background-color: #007bff"
        >Volver al Índice Principal</a
      >
    </section>

    <footer>
      <p>Fin de los Proyectos Simples</p>
    </footer>

    <script>
      let startTime;
      let timerInterval;
      let isRunning = false;
      const startButton = document.getElementById("iniciarTemporizador");
      const display = document.getElementById("displayTemporizador");

      function formatTime(totalSeconds) {
        const h = String(Math.floor(totalSeconds / 3600)).padStart(2, "0");
        const m = String(Math.floor((totalSeconds % 3600) / 60)).padStart(
          2,
          "0"
        );
        const s = String(totalSeconds % 60).padStart(2, "0");
        return `${h}:${m}:${s}`;
      }

      function updateTimer() {
        const elapsed = Math.floor((Date.now() - startTime) / 1000);
        display.textContent = formatTime(elapsed);
      }

      startButton.addEventListener("click", () => {
        if (!isRunning) {
          startTime = Date.now();
          timerInterval = setInterval(updateTimer, 1000);
          startButton.textContent = "Detener Temporizador";
          startButton.style.backgroundColor = "var(--secondary-accent-darker)";
          isRunning = true;
        } else {
          clearInterval(timerInterval);
          startButton.textContent = "Iniciar Temporizador";
          startButton.style.backgroundColor = "var(--secondary-accent)";
          isRunning = false;
        }
      });
    </script>
  </body>
</html>
